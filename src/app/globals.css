@tailwind base;
@tailwind components;
@tailwind utilities;

/* Stable viewport height for iOS Safari */
:root {
  --vh: 1vh;
}

.min-h-screen {
  min-height: 100vh;
  min-height: calc(var(--vh, 1vh) * 100);
}

/* Base styles for scroll functionality */
html, body {
  width: 100%;
  min-height: 100%;
  margin: 0;
  padding: 0;
  overflow-y: auto;
  background-color: #000000;
  color: #f8fafc;
  /* Hide scrollbar visually but keep functionality */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

/* Hide scrollbar for Webkit (Chrome/Safari) */
::-webkit-scrollbar {
  display: none;
}

/* iOS touch optimizations */
html, body {
  overscroll-behavior-y: none;
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
}

html {
  scroll-behavior: auto !important;
}

/* Prevent double-tap zoom on interactive elements */
button, a {
  touch-action: manipulation;
}

/* Lenis recommended styles */
html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* Mapbox Interactive Map Styles */
.mapboxgl-ctrl-logo,
.mapboxgl-ctrl-attrib {
  display: none !important;
}

.mapboxgl-ctrl-group {
  background: rgba(18, 18, 18, 0.9) !important;
  border: 1px solid rgba(212, 175, 55, 0.2) !important;
  border-radius: 4px !important;
}

.mapboxgl-ctrl-group button {
  background-color: transparent !important;
}

.mapboxgl-ctrl-group button:hover {
  background-color: rgba(212, 175, 55, 0.1) !important;
}

.mapboxgl-ctrl-group button + button {
  border-top: 1px solid rgba(212, 175, 55, 0.2) !important;
}

.mapboxgl-ctrl-icon {
  filter: invert(1) sepia(1) saturate(5) hue-rotate(10deg);
}

/* Custom gold markers for map */
.map-marker-container {
  position: relative;
  cursor: pointer;
}

.map-marker {
  position: relative;
  width: 16px;
  height: 16px;
}

.marker-dot {
  display: block;
  width: 12px;
  height: 12px;
  background-color: #D4AF37;
  border-radius: 50%;
  box-shadow: 0 0 12px rgba(212, 175, 55, 0.6);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

@media (hover: hover) and (pointer: fine) {
  .map-marker:hover .marker-dot {
    transform: translate(-50%, -50%) scale(1.4);
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.9);
  }
}

/* Keep .selected outside for tap selection */
.map-marker.selected .marker-dot {
  transform: translate(-50%, -50%) scale(1.4);
  box-shadow: 0 0 20px rgba(212, 175, 55, 0.9);
}

.marker-pulse {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 24px;
  height: 24px;
  background-color: rgba(212, 175, 55, 0.3);
  border-radius: 50%;
  animation: mapPulse 2s ease-out infinite;
}

@keyframes mapPulse {
  0% {
    transform: translate(-50%, -50%) scale(0.5);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(2);
    opacity: 0;
  }
}

.marker-label {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  margin-top: 8px;
  white-space: nowrap;
  font-size: 11px;
  font-weight: 500;
  color: #D4AF37;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
  opacity: 0;
  transition: opacity 0.3s ease;
  pointer-events: none;
}

@media (hover: hover) and (pointer: fine) {
  .map-marker-container:hover .marker-label {
    opacity: 1;
  }
}
